var e=require("react"),r=require("web3modal"),t=require("@ethersproject/providers"),n=require("zustand");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=/*#__PURE__*/o(r),u=/*#__PURE__*/o(n).default(function(e){return{web3Modal:"undefined"!=typeof window?new c.default:void 0}});exports.useWallet=function(){var r=u(function(e){return e.account}),n=u(function(e){return e.network}),o=u(function(e){return e.provider}),i=u(function(e){return e.web3Modal}),a=e.useCallback(function(e){try{var r=new c.default(e);return Promise.resolve(r.connect()).then(function(e){var n=new t.Web3Provider(e,"any"),o=function(){return n.getNetwork()};return Promise.resolve(n.listAccounts()).then(function(t){return Promise.resolve(o()).then(function(c){var i={web3Modal:r,provider:n,network:c,account:t[0]};return e.on("accountsChanged",function(e){u.setState({account:e[0]})}),e.on("chainChanged",function(e){try{return Promise.resolve(o()).then(function(e){u.setState({network:e})})}catch(e){return Promise.reject(e)}}),e.on("disconnect",function(){r.clearCachedProvider()}),u.setState(i),i})})})}catch(e){return Promise.reject(e)}},[]);return{connect:a,provider:o,account:r,network:n,disconnect:e.useCallback(function(){try{return null==i||i.clearCachedProvider(),u.setState({provider:void 0,network:void 0,account:void 0}),Promise.resolve()}catch(e){return Promise.reject(e)}},[i]),web3Modal:i}};
//# sourceMappingURL=index.js.map
