import{useCallback as e}from"react";import r from"web3modal";import{Web3Provider as n}from"@ethersproject/providers";import t from"zustand";var o=t(function(e){return{web3Modal:"undefined"!=typeof window?new r:void 0}}),c=function(){var t=o(function(e){return e.account}),c=o(function(e){return e.network}),i=o(function(e){return e.provider}),u=o(function(e){return e.web3Modal}),a=e(function(e){try{var t=new r(e);return Promise.resolve(t.connect()).then(function(e){var r=new n(e,"any"),c=function(){return r.getNetwork()};return Promise.resolve(r.listAccounts()).then(function(n){return Promise.resolve(c()).then(function(i){var u={web3Modal:t,provider:r,network:i,account:n[0]};return e.on("accountsChanged",function(e){o.setState({account:e[0]})}),e.on("chainChanged",function(e){try{return Promise.resolve(c()).then(function(e){o.setState({network:e})})}catch(e){return Promise.reject(e)}}),e.on("disconnect",function(){t.clearCachedProvider()}),o.setState(u),u})})})}catch(e){return Promise.reject(e)}},[]);return{connect:a,provider:i,account:t,network:c,disconnect:e(function(){try{return null==u||u.clearCachedProvider(),o.setState({provider:void 0,network:void 0,account:void 0}),Promise.resolve()}catch(e){return Promise.reject(e)}},[u]),web3Modal:u}};export{c as useWallet};
//# sourceMappingURL=index.module.js.map
