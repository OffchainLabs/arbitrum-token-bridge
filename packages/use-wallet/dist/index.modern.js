import{useCallback as o}from"react";import t from"web3modal";import{Web3Provider as e}from"@ethersproject/providers";import n from"zustand";const r=n(o=>({web3Modal:"undefined"!=typeof window?new t:void 0})),a=()=>{const n=r(o=>o.account),a=r(o=>o.network),c=r(o=>o.provider),d=r(o=>o.web3Modal),i=o(async o=>{const n=new t(o),a=await n.connect(),c=new e(a,"any"),d=()=>c.getNetwork(),i=await c.listAccounts(),w=await d(),s={web3Modal:n,provider:c,network:w,account:i[0]};return a.on("accountsChanged",o=>{r.setState({account:o[0]})}),a.on("chainChanged",async o=>{const t=await d();r.setState({network:t})}),a.on("disconnect",()=>{n.clearCachedProvider()}),r.setState(s),s},[]);return{connect:i,provider:c,account:n,network:a,disconnect:o(async()=>{null==d||d.clearCachedProvider(),r.setState({provider:void 0,network:void 0,account:void 0})},[d]),web3Modal:d}};export{a as useWallet};
//# sourceMappingURL=index.modern.js.map
